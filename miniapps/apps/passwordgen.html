<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              mono: ['ui-monospace', 'SFMono-Regular', 'Menlo', 'Monaco', 'Consolas', 'Liberation Mono', 'Courier New', 'monospace'],
            },
          },
        },
      };
    </script>
    <style>
      .terminal-window {
        background-color: #1a1a1a;
        border: 1px solid #333;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        padding: 0;
        overflow: hidden;
      }
      .terminal-header {
        background-color: #333;
        height: 25px;
        display: flex;
        align-items: center;
        padding: 0 8px;
        justify-content: flex-start;
      }
      .terminal-button {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        margin-right: 8px;
      }
      .close-btn { background-color: #ff5f56; }
      .minimize-btn { background-color: #ffbd2e; }
      .maximize-btn { background-color: #27c93f; }
      .terminal-content {
        padding: 1.5rem;
      }
      body.light-mode {
        background-color: #f0f4f8;
        color: #1a202c;
      }
      body.light-mode .terminal-window {
        background-color: #e0e0e0;
        border-color: #ccc;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
      body.light-mode .terminal-header {
        background-color: #ccc;
      }
      body.light-mode .text-green-400 {
        color: #1a202c;
      }
      body.light-mode .border-green-600 {
        border-color: #e2e8f0;
      }
      body.light-mode .bg-green-600 {
        background-color: #4c51bf;
      }
      body.light-mode .hover\:bg-green-700:hover {
        background-color: #434190;
      }
      body.light-mode .placeholder-green-800::placeholder {
        color: #a0aec0;
      }
      body.light-mode .border-green-500 {
        border-color: #4299e1;
      }
      body.light-mode .shadow-xl {
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      }
      body.light-mode input[type="range"]::-webkit-slider-thumb {
        background: #4c51bf;
      }
      
      /* Explicitly setting colors for dark mode to ensure visibility */
      #password-output {
        color: #f3f4f6;
        background-color: #1f2937;
        border-color: #4b5563;
      }
      #password-output::placeholder {
        color: #9ca3af;
      }
      
      /* Light mode styles for the password input */
      body.light-mode #password-output {
        color: #1a202c;
        background-color: #ffffff;
        border-color: #d1d5db;
      }
      body.light-mode #password-output::placeholder {
        color: #6b7280;
      }

      body.light-mode .text-green-400 {
        color: #1a202c;
      }
      body.light-mode .hover\:bg-gray-700:hover {
        background-color: #d1d5db;
      }
    </style>
    <link rel="icon" type="image/x-icon" href="../../assets/favicon.ico">
</head>
<body class="bg-gray-950 text-green-400 font-mono flex items-center justify-center min-h-screen p-4 transition-colors duration-300">

  <div class="terminal-window rounded-2xl w-full max-w-xl transition-colors duration-300">
    
    <div class="terminal-header flex-shrink-0 rounded-t-2xl">
      <div class="terminal-button close-btn"></div>
      <div class="terminal-button minimize-btn"></div>
      <div class="terminal-button maximize-btn"></div>
      <div class="flex-grow"></div>
      <button id="theme-toggle" class="p-1 rounded-full hover:bg-gray-700 transition duration-300 focus:outline-none">
          <!-- Sun Icon for Light Mode -->
          <svg id="sun-icon" class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="display: none;">
            <path d="M12 2a10 10 0 100 20 10 10 0 000-20zm0 18a8 8 0 110-16 8 8 0 010 16zM12 4v2m0 12v2m8-8h2m-2-4h2M4 12H2m4 4h-2m14-8h-2"/>
          </svg>
          <!-- Moon Icon for Dark Mode -->
          <svg id="moon-icon" class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="display: block;">
            <path d="M21 12.79A9 9 0 1111.21 3.21a9 9 0 009.79 9.58z"></path>
          </svg>
      </button>
    </div>

    <div class="terminal-content p-6 md:p-8">
      <div class="flex justify-between items-center mb-6">
        <h1 class="text-3xl font-bold text-green-400">./password-gen</h1>
      </div>
  
      <!-- Password Display and Copy Button -->
      <div class="flex flex-col sm:flex-row gap-2 mb-6">
        <input
          id="password-output"
          type="text"
          readonly
          class="flex-1 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
          placeholder="Your password will appear here..."
        >
        <button
          id="copy-btn"
          class="bg-green-600 hover:bg-green-700 text-black font-bold py-3 px-6 rounded-lg transition-colors shadow-md border-2 border-green-500"
        >
          Copy
        </button>
      </div>

      <!-- Settings -->
      <div class="space-y-4">
        <div>
          <label for="length" class="block mb-2 text-lg">Password Length: <span id="length-value">12</span></label>
          <input type="range" id="length" min="4" max="32" value="12" class="w-full h-2 rounded-lg appearance-none cursor-pointer bg-gray-700">
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div class="flex items-center">
            <input type="checkbox" id="uppercase" checked class="h-4 w-4 text-green-600 form-checkbox rounded-md bg-gray-800 border-gray-700 focus:ring-green-500 cursor-pointer">
            <label for="uppercase" class="ml-2">Uppercase</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="lowercase" checked class="h-4 w-4 text-green-600 form-checkbox rounded-md bg-gray-800 border-gray-700 focus:ring-green-500 cursor-pointer">
            <label for="lowercase" class="ml-2">Lowercase</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="numbers" checked class="h-4 w-4 text-green-600 form-checkbox rounded-md bg-gray-800 border-gray-700 focus:ring-green-500 cursor-pointer">
            <label for="numbers" class="ml-2">Numbers</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="symbols" class="h-4 w-4 text-green-600 form-checkbox rounded-md bg-gray-800 border-gray-700 focus:ring-green-500 cursor-pointer">
            <label for="symbols" class="ml-2">Symbols</label>
          </div>
        </div>
      </div>

      <button
        id="generate-btn"
        class="w-full mt-6 bg-green-600 hover:bg-green-700 text-black font-bold py-3 px-6 rounded-lg transition-colors shadow-md border-2 border-green-500"
      >
        Generate Password
      </button>

      <!-- Message box for copy confirmation -->
      <div id="message-box" class="fixed bottom-4 left-1/2 -translate-x-1/2 bg-gray-800 text-white py-2 px-4 rounded-lg shadow-lg opacity-0 transition-opacity duration-300">
        Password copied to clipboard!
      </div>
      <!-- Back button with 'cd ..' text at the bottom -->
      <div class="flex justify-center mt-6">
          <a href="../../index.html" class="font-mono text-green-400 text-sm px-2 py-1 rounded-md hover:bg-gray-700 transition duration-300 focus:outline-none">
              cd ..
          </a>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const passwordOutput = document.getElementById('password-output');
      const lengthInput = document.getElementById('length');
      const lengthValueSpan = document.getElementById('length-value');
      const uppercaseCheckbox = document.getElementById('uppercase');
      const lowercaseCheckbox = document.getElementById('lowercase');
      const numbersCheckbox = document.getElementById('numbers');
      const symbolsCheckbox = document.getElementById('symbols');
      const generateBtn = document.getElementById('generate-btn');
      const copyBtn = document.getElementById('copy-btn');
      const themeToggle = document.getElementById('theme-toggle');
      const body = document.body;
      const sunIcon = document.getElementById('sun-icon');
      const moonIcon = document.getElementById('moon-icon');
      const messageBox = document.getElementById('message-box');

      const uppercaseChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      const lowercaseChars = 'abcdefghijklmnopqrstuvwxyz';
      const numberChars = '0123456789';
      const symbolChars = '!@#$%^&*()_+-=[]{}|;:",.<>/?`~';

      lengthInput.addEventListener('input', () => {
        lengthValueSpan.textContent = lengthInput.value;
      });

      function generatePassword() {
        let characterSet = '';
        if (uppercaseCheckbox.checked) characterSet += uppercaseChars;
        if (lowercaseCheckbox.checked) characterSet += lowercaseChars;
        if (numbersCheckbox.checked) characterSet += numberChars;
        if (symbolsCheckbox.checked) characterSet += symbolChars;

        if (characterSet.length === 0) {
          passwordOutput.value = 'Select at least one option.';
          return;
        }

        let password = '';
        const passwordLength = lengthInput.value;
        for (let i = 0; i < passwordLength; i++) {
          const randomIndex = Math.floor(Math.random() * characterSet.length);
          password += characterSet[randomIndex];
        }
        passwordOutput.value = password;
      }

      generateBtn.addEventListener('click', generatePassword);

      copyBtn.addEventListener('click', () => {
        if (passwordOutput.value) {
          passwordOutput.select();
          document.execCommand('copy');
          
          messageBox.classList.remove('opacity-0');
          messageBox.classList.add('opacity-100');

          setTimeout(() => {
            messageBox.classList.remove('opacity-100');
            messageBox.classList.add('opacity-0');
          }, 2000);
        }
      });
      
      // Theme toggle functionality
      themeToggle.addEventListener('click', () => {
        body.classList.toggle('light-mode');
        
        // Toggle icon visibility
        if (body.classList.contains('light-mode')) {
          sunIcon.style.display = 'block';
          moonIcon.style.display = 'none';
        } else {
          sunIcon.style.display = 'none';
          moonIcon.style.display = 'block';
        }
      });

      // Generate a password on load
      generatePassword();
    });
  </script>
</body>
</html>
